class AutoC4Kitchenlight{init(e,t){this.autoc4=e,$("#klMatrixLines").on("input",(function(e){$("#klMatrixLinesOut").val(parseInt(this.value))})),$("#klConwaySpeed").on("input",(function(e){$("#klConwaySpeedOut").val(parseInt(this.value))})),$("#klConwayGenerations").on("input",(function(e){$("#klConwayGenerationsOut").val(parseInt(this.value))})),$("#klSelect").change((function(e){$(".klPane.active").removeClass("active"),$("#"+this.value).addClass("active")}));let n=this;return $("#klSet").click((function(e){switch($("#klSelect").val()){case"klEmpty":n.kl_empty();break;case"klChecker":n.kl_checker(parseInt($("#klCheckerDelay").val()),$("#klCheckerColorA").val(),$("#klCheckerColorB").val());break;case"klPacman":n.kl_pacman();break;case"klText":n.kl_text(parseInt($("#klTextDelay").val()),$("#klTextText").val());break;case"klOpenChaos":n.kl_open_chaos(parseInt($("#klOCDelay").val()));break;case"klMatrix":n.kl_matrix(parseInt($("#klMatrixLines").val()));break;case"klMood":n.kl_moodlight(parseInt($("#klMoodMode").val()));break;case"klSine":n.kl_sine();break;case"klStrobe":n.kl_strobe();break;case"klFlood":n.kl_flood();break;case"klClock":n.kl_clock();break;case"klConway":n.kl_conway(parseInt($("#klConwaySpeed").val()),parseInt($("#klConwayGenerations").val()),$("#klConwayFill")[0].checked)}})),$(".klPane.active").removeClass("active"),$("#"+$("#klSelect").val()).addClass("active"),$(".btn-floodit").click((function(t){var n=parseInt(this.textContent)-1;return e.sendByte("kitchenlight/FloodIt/flood",n,!0)})),$("#klFlood").keypress((function(e){e.which<49||e.which>56||($("#klFlood"+(e.which-48)).click(),e.preventDefault())})),this}kl_change_screen(e){this.autoc4.sendData("kitchenlight/change_screen",e,!0)}kl_empty(){var e=new ArrayBuffer(4);new DataView(e).setUint32(0,0,!0),this.kl_change_screen(e)}kl_checker(e,t,n){let a=new ArrayBuffer(20),s=new DataView(a);s.setUint32(0,1,!0),s.setUint32(4,e,!0),s.setUint16(8,1023*parseInt(t.substr(1,2),16)/255,!0),s.setUint16(10,1023*parseInt(t.substr(3,2),16)/255,!0),s.setUint16(12,1023*parseInt(t.substr(5,2),16)/255,!0),s.setUint16(14,1023*parseInt(n.substr(1,2),16)/255,!0),s.setUint16(16,1023*parseInt(n.substr(3,2),16)/255,!0),s.setUint16(18,1023*parseInt(n.substr(5,2),16)/255,!0),this.kl_change_screen(a)}kl_matrix(e){let t=new ArrayBuffer(8),n=new DataView(t);n.setUint32(0,2,!0),n.setUint32(4,e,!0),this.kl_change_screen(t)}kl_moodlight(e){let t,n;1===e?(t=new ArrayBuffer(19),n=new DataView(t),n.setUint32(0,3,!0),n.setUint8(4,e),n.setUint32(5,1,!0),n.setUint32(9,10,!0),n.setUint32(13,1e4,!0),n.setUint16(17,30,!0),this.kl_change_screen(t)):(t=new ArrayBuffer(17),n=new DataView(t),n.setUint32(0,3,!0),n.setUint8(4,e),n.setUint32(5,1,!0),n.setUint32(9,10,!0),n.setUint32(13,1e4,!0),this.kl_change_screen(t))}kl_open_chaos(e){let t=new ArrayBuffer(8),n=new DataView(t);n.setUint32(0,4,!0),n.setUint32(4,e,!0),this.kl_change_screen(t)}kl_pacman(){var e=new ArrayBuffer(4);new DataView(e).setUint32(0,5,!0),this.kl_change_screen(e)}kl_sine(){var e=new ArrayBuffer(4);new DataView(e).setUint32(0,6,!0),this.kl_change_screen(e)}kl_strobe(){var e=new ArrayBuffer(4);new DataView(e).setUint32(0,7,!0),this.kl_change_screen(e)}kl_text(e,t){var n=new ArrayBuffer(8+t.length+1),a=new DataView(n);a.setUint32(0,8,!0),a.setUint32(4,e,!0);for(var s=0;s<t.length;s+=1)a.setUint8(8+s,255&t.charCodeAt(s));a.setUint8(8+t.length,0),this.kl_change_screen(n)}kl_flood(){var e=new ArrayBuffer(4);new DataView(e).setUint32(0,9,!0),this.kl_change_screen(e)}kl_clock(){var e=new ArrayBuffer(4);new DataView(e).setUint32(0,11,!0),this.kl_change_screen(e)}kl_conway(e,t,n){var a=new ArrayBuffer(16),s=new DataView(a);s.setUint32(0,12,!0),s.setUint32(4,e,!0),s.setUint32(8,t,!0),n?s.setUint32(12,1,!0):s.setUint32(12,0,!0),this.kl_change_screen(a)}onMessage(e,t){}onConnect(e,t){}onConnectionFailure(e,t){}}AutoC4.registerModule("kitchenlight",()=>new AutoC4Kitchenlight);
//# sourceMappingURL=kitchenlight.min.js.map
