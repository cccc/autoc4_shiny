import{simpleDateFormat}from"../utils.js";class AutoC4Time{init(t,e){return this.options=e,this}onMessage(t,e){if(e.payloadBytes.byteLength<7)return void console.warn(`Received invalid time payload on topic "${e.destinationName}".`);const o=document.querySelectorAll(this.options.targetSelector);if(0===o.length)return;const n=e.payloadBytes,i=new Date,a=new Date(i.getFullYear()-i.getFullYear()%100+n[7],n[5]-1,n[6],n[0],n[1],n[2]);for(const t of o)t.textContent=simpleDateFormat(t.getAttribute(this.options.templateDataAttribute)||"yyyy-MM-ddZhh-mm-ss",a)}onConnect(t,e){}onConnectionFailure(t,e){}}export default t=>t.registerModuleType("time",()=>new AutoC4Time);
//# sourceMappingURL=time.min.js.map
