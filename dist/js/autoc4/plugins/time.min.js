import{simpleDateFormat}from"../utils.js";class AutoC4Time{init(t,e){return this.options=e,this.options.defaultToCurrentTime&&this.setTime(new Date),this}onMessage(t,e){if(e.payloadBytes.byteLength<7)return void console.warn(`Received invalid time payload on topic "${e.destinationName}".`);const o=e.payloadBytes,i=new Date,n=new Date(i.getFullYear()-i.getFullYear()%100+o[7],o[5]-1,o[6],o[0],o[1],o[2]);this.setTime(n)}setTime(t){const e=document.querySelectorAll(this.options.targetSelector);for(const o of e)o.textContent=simpleDateFormat(o.getAttribute(this.options.templateDataAttribute)||"yyyy-MM-ddZHH-mm-ss",t)}onConnect(t,e){}onConnectionFailure(t,e){}}export default t=>t.registerModuleType("time",()=>new AutoC4Time);
//# sourceMappingURL=time.min.js.map
