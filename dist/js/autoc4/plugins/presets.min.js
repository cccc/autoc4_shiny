class AutoC4Presets{init(e,t){return this.autoc4=e,$("body").on("click","[data-preset-topic]",(function(t){var r=$(this);e.sendData(r.attr("data-preset-topic"),r.attr("data-preset-message"))})),this}create_button(e,t){return $("<button>",{type:"button",class:"btn btn-preset","data-preset-topic":"global"===e?"preset/set":"preset/"+e+"/set","data-preset-message":t}).text(t)}onMessage(e,t){let r;try{r=JSON.parse(t.payloadString)}catch(e){console.log("Invalid JSON received")}var a=t.destinationName.split("/")[1];if("list"===a){a="global";for(let e of document.querySelectorAll("div.preset-pane[data-room]")){let t=e.querySelector(".preset-pane-global-marker");var o=e.getAttribute("data-room");for(var s of r)this.create_button(o,s).insertBefore(t)}}let n=document.querySelector('div.preset-pane[data-room="'+a+'"] > .preset-pane-room-marker');for(var s of r)this.create_button(a,s).insertBefore(n)}onConnect(e,t){$("div.preset-pane[data-room] > [data-preset-topic]").remove()}onConnectionFailure(e,t){}}export default e=>e.registerModuleType("presets",()=>new AutoC4Presets);
//# sourceMappingURL=presets.min.js.map
